I"ãr<p>ìì£¼ ì§ˆë¬¸í•˜ì‹œëŠ” ìœ ì¦ˆì¼€ì´ìŠ¤ì— ëŒ€í•´ ë°”ë¡œ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆëŠ” API ì¿¼ë¦¬ë¬¸ì„ (ì €ì˜ ê°œì¸ì ì¸ í¸ì˜ë¥¼ ìœ„í•´) ëª¨ì•„ë³´ë ¤ê³  í•©ë‹ˆë‹¤. ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” GraphQL ì¿¼ë¦¬ë§Œ ë‹¤ë£¹ë‹ˆë‹¤. ìƒ˜í”Œ ì¿¼ë¦¬ì— í¬í•¨ë˜ì–´ ìˆëŠ” ì•„ë˜ í•„ë“œë¥¼ ë³¸ì¸ ì •ë³´ë¡œ ë°”ê¾¸ì‹œê³  ë³µì‚¬-ë¶™ì—¬ë„£ê¸° í•˜ì…”ì„œ ì‚¬ìš©í•˜ì‹œë©´ ë°”ë¡œ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤:</p>

<ul>
  <li><code class="highlighter-rouge">&lt;$zone_id&gt;</code> : ì¿¼ë¦¬ ëŒ€ìƒ ë„ë©”ì¸ì˜ ID. Cloudflare ëŒ€ì‹œë³´ë“œì˜ Overview - API - Zone IDì—ì„œ ì°¾ìœ¼ì„¸ìš”.</li>
  <li><code class="highlighter-rouge">&lt;$datetime_geq&gt;</code> : íŠ¹ì • ì‹œê°„ëŒ€ì™€ ê´€ë ¨ëœ ë¡œê·¸ë¥¼ ë½‘ìœ¼ì‹¤ ë•Œ ì‹œì‘ íƒ€ì„ìŠ¤íƒ¬í”„ë¡œ ì¿¼ë¦¬ì— ë„£ëŠ” ê°’ì…ë‹ˆë‹¤. RFC3339 í¬ë§·(e.g.: 2020-05-28T00:00:00Z)ì„ ë”°ë¥´ë©° UTC ì‹œê°„ëŒ€ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.</li>
  <li><code class="highlighter-rouge">&lt;$datetime_leq&gt;</code> : íŠ¹ì • ì‹œê°„ëŒ€ì™€ ê´€ë ¨ëœ ë¡œê·¸ë¥¼ ë½‘ìœ¼ì‹¤ ë•Œ ë íƒ€ì„ìŠ¤íƒ¬í”„ë¡œ ì¿¼ë¦¬ì— ë„£ëŠ” ê°’ì…ë‹ˆë‹¤. RFC3339 í¬ë§·(e.g.: 2020-05-28T01:00:00Z)ì„ ë”°ë¥´ë©° UTC ì‹œê°„ëŒ€ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.</li>
</ul>

<p>BETA í”Œë˜ê·¸ê°€ ë¶™ì€ ê¸°ëŠ¥ë“¤ì€ ê³µì‹ ì œí’ˆ/ê¸°ëŠ¥ì˜ ì¼ë¶€ê°€ ì•„ë‹˜ì„ ìœ ì˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ë”°ë¼ì„œ ì¼ë°˜ì ì¸ ë² íƒ€ ì„œë¹„ìŠ¤ ì£¼ì˜ì‚¬í•­ì´ ì ìš©ë©ë‹ˆë‹¤ - ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ê±°ë‚˜, ë°”ë€Œê±°ë‚˜, ì¤‘ë‹¨ë˜ê±°ë‚˜ í˜¹ì€ ì² íšŒë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ê±´ì„¤ì ì¸ í”¼ë“œë°±ì„ ì£¼ì‹œë©´ ë² íƒ€ ì„œë¹„ìŠ¤ì— í° ë„ì›€ì´ ë©ë‹ˆë‹¤.</p>

<p>ì´ ì˜ˆì œì—ì„œëŠ” ì¿¼ë¦¬ë¥¼ ë³´ë‚´ê¸° ìœ„í•œ í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë¨ìœ¼ë¡œ <a href="https://developers.cloudflare.com/analytics/graphql-api/">ê³µì‹ ê¸°ìˆ ë¬¸ì„œ ì˜ˆì œì™€ ë™ì¼í•˜ê²Œ GraphiQLì„ ì”ë‹ˆë‹¤.</a> <a href="https://developers.cloudflare.com/analytics/graphql-api/getting-started/">GraphiQLì„ ë‹¤ë£¨ëŠ” ë²•ì— ìµìˆ™ì§€ ì•Šìœ¼ì‹œë©´ ì—¬ê¸°ì„œ ì‹œì‘í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</a> GraphiQL í”„ë¡œê·¸ë¨ì—ì„œ ì•„ë˜ ì •ë³´ëŠ” <code class="highlighter-rouge">Edit HTTP Headers</code> ë²„íŠ¼ì„ ëˆ„ë¥´ì…”ì„œ ë¯¸ë¦¬ ì…ë ¥í•´ ë‘ì‹œëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p>

<ul>
  <li><code class="highlighter-rouge">X-Auth-Email</code> : ìš”ì²­ ìœ ì €ì˜ ì´ë©”ì¼ ì£¼ì†Œ. Cloudflare ëŒ€ì‹œë³´ë“œì— ì ‘ì†í•˜ëŠ” ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.</li>
  <li><code class="highlighter-rouge">X-Auth-Key</code> : ìš”ì²­ ìœ ì € ì¸ì¦ í‚¤. Cloudflare ëŒ€ì‹œë³´ë“œì˜ My Profile - API Tokens - API Keys - Global API Keyì—ì„œ ì°¾ìœ¼ì„¸ìš”. ëŒ€ì‹œë³´ë“œ ì ‘ì† ì•”í˜¸ì™€ ê¸°ë³¸ì ìœ¼ë¡œ ë™ì¼í•˜ë¯€ë¡œ, í‚¤ë¥¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ì„¸ìš”.</li>
</ul>

<p>Cloudflare GraphQL Endpoint: <code class="highlighter-rouge">https://api.cloudflare.com/client/v4/graphql</code></p>

<h1 id="ëª©ì°¨">ëª©ì°¨</h1>

<ul id="markdown-toc">
  <li><a href="#ëª©ì°¨" id="markdown-toc-ëª©ì°¨">ëª©ì°¨</a></li>
  <li><a href="#firewall-events" id="markdown-toc-firewall-events">Firewall Events</a>    <ul>
      <li><a href="#íŠ¹ì •-ë¦¬í€˜ìŠ¤íŠ¸ì˜-ë””í…Œì¼í•œ-ë¶„ì„" id="markdown-toc-íŠ¹ì •-ë¦¬í€˜ìŠ¤íŠ¸ì˜-ë””í…Œì¼í•œ-ë¶„ì„">íŠ¹ì • ë¦¬í€˜ìŠ¤íŠ¸ì˜ ë””í…Œì¼í•œ ë¶„ì„</a></li>
      <li><a href="#íŠ¹ì •-ë¦¬í€˜ìŠ¤íŠ¸ì—-ë¶€ì—¬ëœ-botscore-ë¶„ì„" id="markdown-toc-íŠ¹ì •-ë¦¬í€˜ìŠ¤íŠ¸ì—-ë¶€ì—¬ëœ-botscore-ë¶„ì„">íŠ¹ì • ë¦¬í€˜ìŠ¤íŠ¸ì— ë¶€ì—¬ëœ botScore ë¶„ì„</a></li>
      <li><a href="#ê°ê°-ë³´ì•ˆ-ì œí’ˆê³¼-ì•¡ì…˜ì—-ëŒ€í•œ-ì‘ë‹µ-ì½”ë“œ-ë¶„ì„" id="markdown-toc-ê°ê°-ë³´ì•ˆ-ì œí’ˆê³¼-ì•¡ì…˜ì—-ëŒ€í•œ-ì‘ë‹µ-ì½”ë“œ-ë¶„ì„">ê°ê° ë³´ì•ˆ ì œí’ˆê³¼ ì•¡ì…˜ì— ëŒ€í•œ ì‘ë‹µ ì½”ë“œ ë¶„ì„</a></li>
      <li><a href="#êµ¬ê¸€ë„¤ì´ë²„ë´‡-ë¦¬í€˜ìŠ¤íŠ¸ê°€-ì‚¬ì´íŠ¸ì—-ì˜-ë„ë‹¬í•˜ê³ -ìˆëŠ”ì§€-ë¶„ì„" id="markdown-toc-êµ¬ê¸€ë„¤ì´ë²„ë´‡-ë¦¬í€˜ìŠ¤íŠ¸ê°€-ì‚¬ì´íŠ¸ì—-ì˜-ë„ë‹¬í•˜ê³ -ìˆëŠ”ì§€-ë¶„ì„">êµ¬ê¸€(ë„¤ì´ë²„)ë´‡ ë¦¬í€˜ìŠ¤íŠ¸ê°€ ì‚¬ì´íŠ¸ì— ì˜ ë„ë‹¬í•˜ê³  ìˆëŠ”ì§€ ë¶„ì„</a></li>
    </ul>
  </li>
  <li><a href="#cache-analytics-beta" id="markdown-toc-cache-analytics-beta">Cache Analytics (BETA)</a>    <ul>
      <li><a href="#íŠ¹ì •-ë¦¬í€˜ìŠ¤íŠ¸ì˜-ë””í…Œì¼í•œ-ë¶„ì„-1" id="markdown-toc-íŠ¹ì •-ë¦¬í€˜ìŠ¤íŠ¸ì˜-ë””í…Œì¼í•œ-ë¶„ì„-1">íŠ¹ì • ë¦¬í€˜ìŠ¤íŠ¸ì˜ ë””í…Œì¼í•œ ë¶„ì„</a></li>
      <li><a href="#ìºì‹œë˜ì§€-ì•Šì€-top-20ê°œ-ë¦¬í€˜ìŠ¤íŠ¸-ë¶„ì„" id="markdown-toc-ìºì‹œë˜ì§€-ì•Šì€-top-20ê°œ-ë¦¬í€˜ìŠ¤íŠ¸-ë¶„ì„">ìºì‹œë˜ì§€ ì•Šì€ Top 20ê°œ ë¦¬í€˜ìŠ¤íŠ¸ ë¶„ì„</a></li>
      <li><a href="#íŠ¹ì •-ì‹œê°„ëŒ€ì—-ë“¤ì–´ì˜¨-ë¦¬í€˜ìŠ¤íŠ¸ì˜-top-20-clientip-í˜¹ì€-useragent-ë¶„ì„" id="markdown-toc-íŠ¹ì •-ì‹œê°„ëŒ€ì—-ë“¤ì–´ì˜¨-ë¦¬í€˜ìŠ¤íŠ¸ì˜-top-20-clientip-í˜¹ì€-useragent-ë¶„ì„">íŠ¹ì • ì‹œê°„ëŒ€ì— ë“¤ì–´ì˜¨ ë¦¬í€˜ìŠ¤íŠ¸ì˜ Top 20 clientIP í˜¹ì€ userAgent ë¶„ì„</a></li>
    </ul>
  </li>
</ul>

<h1 id="firewall-events">Firewall Events</h1>

<p>2020ë…„ 5ì›” 29ì¼ ê¸°ì¤€:</p>
<ul>
  <li>ìµœëŒ€ ì¿¼ë¦¬ ê°€ëŠ¥ ê¸°ê°„: ìµœê·¼ 31ì¼ (2,678,400ì´ˆ)</li>
  <li>Adaptive Bitrate ìƒ˜í”Œë§ì„ ì´ìš©í•©ë‹ˆë‹¤. (ìµœëŒ€ 100%)</li>
</ul>

<h2 id="íŠ¹ì •-ë¦¬í€˜ìŠ¤íŠ¸ì˜-ë””í…Œì¼í•œ-ë¶„ì„">íŠ¹ì • ë¦¬í€˜ìŠ¤íŠ¸ì˜ ë””í…Œì¼í•œ ë¶„ì„</h2>

<p>Firewall Eventsì— ì˜í•´ ì°¨ë‹¨ëœ ê²ƒìœ¼ë¡œ ë³´ì´ëŠ” ë¦¬í€˜ìŠ¤íŠ¸ì˜ RayIDë¥¼ ê°€ì§€ê³  ìˆì„ ë•Œ, ì–´ë–¤ ë³´ì•ˆ ì„œë¹„ìŠ¤ê°€ ì™œ, ì–´ë””ì„œ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì°¨ë‹¨í•œ ê²ƒì¸ì§€ ë¶„ì„í•˜ëŠ” ì¿¼ë¦¬ì…ë‹ˆë‹¤. Firewall Eventì—ì„œ ì°¨ë‹¨ëœ ë¦¬í€˜ìŠ¤íŠ¸ê°€ ì•„ë‹ˆë©´ ê²°ê³¼ê°’ì´ í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. <a href="/cloudflare/analytics/2020/05/28/frequently-asked-api-calls-ko.html#íŠ¹ì •-rayidì—-ëŒ€í•œ-ë¡œê·¸-í’€ë§í•˜ê¸°">ì´ ê²½ìš°ì—ëŠ” Logpullì„ ì´ìš©í•´ ìƒì„¸ í•„ë“œë¥¼ ë¶„ì„í•´ ë³´ì„¸ìš”.</a></p>

<p>ì°¨ë‹¨ëœ ë¦¬í€˜ìŠ¤íŠ¸ì˜ RayIDë¡œ í•„í„°í•  ì˜ˆì •ì´ë¯€ë¡œ í•´ë‹¹ ì •ë³´ë¥¼ ì¿¼ë¦¬ì˜ <code class="highlighter-rouge">&lt;$rayid&gt;</code> í•„ë“œì— ì…ë ¥í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>

<p><strong>Query:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">query</span> <span class="p">{</span>
  <span class="n">viewer</span><span class="p">{</span>
    <span class="n">zones</span><span class="p">(</span><span class="ss">filter: </span><span class="p">{</span> <span class="ss">zoneTag: </span><span class="vg">$zone_id</span><span class="p">})</span> <span class="p">{</span>
      <span class="n">firewallEventsAdaptiveGroups</span> <span class="p">(</span><span class="n">limit</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="ss">filter: </span><span class="vg">$filter</span><span class="p">,</span> <span class="ss">orderBy: </span><span class="p">[</span><span class="n">count_DESC</span><span class="p">])</span>
      <span class="p">{</span>
        <span class="n">dimensions</span><span class="p">{</span>
          <span class="n">action</span>
          <span class="n">source</span>
          <span class="n">datetime</span>
          <span class="n">clientIP</span>
          <span class="n">clientAsn</span>
          <span class="n">clientCountryName</span>
          <span class="n">edgeColoName</span>
          <span class="n">clientRequestHTTPProtocol</span>
          <span class="n">clientRequestHTTPHost</span>
          <span class="n">clientRequestPath</span>
          <span class="n">clientRequestQuery</span>
          <span class="n">clientRequestScheme</span>
          <span class="n">clientRequestHTTPMethodName</span>
          <span class="n">clientRefererHost</span>
          <span class="n">clientRefererPath</span>
          <span class="n">clientRefererQuery</span>
          <span class="n">clientRefererScheme</span>
          <span class="n">edgeResponseStatus</span>
          <span class="n">clientASNDescription</span>
          <span class="n">userAgent</span>
          <span class="n">kind</span>
          <span class="n">matchIndex</span>
          <span class="n">originResponseStatus</span>
          <span class="n">originatorRayName</span>
          <span class="n">ruleId</span>
        <span class="p">}</span>
      <span class="p">}</span> 
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><strong>Query Variables:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">{</span>
  <span class="s2">"zone_id"</span> <span class="p">:</span> <span class="s2">"&lt;$zone_id&gt;"</span><span class="p">,</span>
  <span class="s2">"filter"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"datetime_geq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_geq&gt;"</span><span class="p">,</span>
    <span class="s2">"datetime_leq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_leq&gt;"</span><span class="p">,</span>
    <span class="s2">"rayName"</span> <span class="p">:</span> <span class="s2">"&lt;$rayid&gt;"</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h2 id="íŠ¹ì •-ë¦¬í€˜ìŠ¤íŠ¸ì—-ë¶€ì—¬ëœ-botscore-ë¶„ì„">íŠ¹ì • ë¦¬í€˜ìŠ¤íŠ¸ì— ë¶€ì—¬ëœ botScore ë¶„ì„</h2>

<p>2020ë…„ 5ì›” 31ì¼ ê¸°ì¤€, GraphQL Firewall Events ë°ì´í„°ì…‹ì€ botScoreë¥¼ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¶”í›„ ë°”ë€” ì§€ ëª¨ë¥´ë‹ˆ GraphQL ë‚´ self-documented schemaë¥¼ í™•ì¸í•˜ì„¸ìš”. ê·¸ëŸ¬ë‚˜, <a href="/cloudflare/analytics/2020/05/28/frequently-asked-api-calls-ko.html#íŠ¹ì •-rayidì—-ëŒ€í•œ-ë¡œê·¸-í’€ë§í•˜ê¸°">ì´ ì¿¼ë¦¬ë¥¼ ì´ìš©í•˜ì‹œë©´ íŠ¹ì • ë¦¬í€˜ìŠ¤íŠ¸ì— ë¶€ì—¬ëœ botScoreê³¼ ìŠ¤ì½”ì–´ë§ ì†ŒìŠ¤ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</a> Logpushë¡œë„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. ë¶„ì„ ëŒ€ìƒ ë¦¬í€˜ìŠ¤íŠ¸ì˜ rayIdë¥¼ ì…ë ¥í•˜ì…”ì„œ ì•„ë˜ì™€ ê°™ì€ (í›¨ì”¬ ë§ì€ í•„ë“œê°€ ìˆìŠµë‹ˆë‹¤) ë””í…Œì¼í•œ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="s2">"BotScore"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s2">"BotScoreSrc"</span><span class="p">:</span> <span class="s2">"Machine Learning"</span><span class="p">,</span>
  <span class="s2">"EdgeResponseStatus"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
  <span class="s2">"OriginResponseStatus"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
  <span class="s2">"FirewallMatchesActions"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"simulate"</span>
  <span class="p">],</span>
  <span class="s2">"FirewallMatchesRuleIDs"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"91576b79149c46678682d91daf9ab61f"</span>
  <span class="p">],</span>
  <span class="s2">"FirewallMatchesSources"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"firewallRules"</span>
  <span class="p">],</span>  </code></pre></figure>

<p><strong>Bot Managementê°€ í™œì„±í™”ëœ Zoneì—ë§Œ ì ìš©ë©ë‹ˆë‹¤.</strong></p>

<p><a href="/cloudflare/botmanagement/2020/05/31/are-you-a-bot-kr.html">Q: ì´ í•„ë“œ ì–´ë””ì— ì“°ëŠ”ë°ìš”? A: ì—¬ê¸°ë¥¼ ì½ì–´ ë³´ì„¸ìš”</a></p>

<h2 id="ê°ê°-ë³´ì•ˆ-ì œí’ˆê³¼-ì•¡ì…˜ì—-ëŒ€í•œ-ì‘ë‹µ-ì½”ë“œ-ë¶„ì„">ê°ê° ë³´ì•ˆ ì œí’ˆê³¼ ì•¡ì…˜ì— ëŒ€í•œ ì‘ë‹µ ì½”ë“œ ë¶„ì„</h2>

<p>2020ë…„ 5ì›” 29ì¼ ê¸°ì¤€, Firewall Events ëŒ€ì‹œë³´ë“œëŠ” ë§ì€ ë””í…Œì¼í•œ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ì§€ë§Œ HTTP ì‘ë‹µ ì½”ë“œ ì •ë³´ëŠ” ë…¸ì¶œë˜ì§€ ì•Šê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ APIë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì‹œë©´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì¿¼ë¦¬ë¥¼ ì´ìš©í•˜ì‹œë©´ ë³´ì•ˆ ì œí’ˆì˜ ì•¡ì…˜ì´  <code class="highlighter-rouge">drop</code>, <code class="highlighter-rouge">challenge</code> or <code class="highlighter-rouge">jschallenge</code>ì˜€ì„ ë•Œ ë‚˜ê°„ HTTP ì‘ë‹µ ì½”ë“œ ì •ë³´ë¥¼ ì •ë ¬í•˜ì—¬ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>

<p><strong>Query:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">query</span> <span class="p">{</span>
  <span class="n">viewer</span><span class="p">{</span>
    <span class="n">zones</span><span class="p">(</span><span class="ss">filter: </span><span class="p">{</span> <span class="ss">zoneTag: </span><span class="vg">$zone_id</span><span class="p">})</span> <span class="p">{</span>
      <span class="n">firewallEventsAdaptiveGroups</span> <span class="p">(</span><span class="n">limit</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="ss">filter: </span><span class="vg">$filter</span><span class="p">,</span> <span class="ss">orderBy: </span><span class="p">[</span><span class="n">count_DESC</span><span class="p">])</span>
      <span class="p">{</span>
        <span class="n">count</span>
        <span class="n">dimensions</span><span class="p">{</span>
          <span class="n">action</span>
          <span class="n">source</span>
          <span class="n">kind</span>
          <span class="n">edgeResponseStatus</span>
          <span class="n">originResponseStatus</span>
        <span class="p">}</span>
      <span class="p">}</span> 
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><strong>Query Variables:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">{</span>
  <span class="s2">"zone_id"</span> <span class="p">:</span> <span class="s2">"&lt;$zone_id&gt;"</span><span class="p">,</span>
  <span class="s2">"filter"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"datetime_geq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_geq&gt;"</span><span class="p">,</span>
    <span class="s2">"datetime_leq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_leq&gt;"</span><span class="p">,</span>
    <span class="s2">"action_in"</span> <span class="p">:</span> <span class="p">[</span><span class="s2">"drop"</span><span class="p">,</span><span class="s2">"challenge"</span><span class="p">,</span><span class="s2">"jschallenge"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h2 id="êµ¬ê¸€ë„¤ì´ë²„ë´‡-ë¦¬í€˜ìŠ¤íŠ¸ê°€-ì‚¬ì´íŠ¸ì—-ì˜-ë„ë‹¬í•˜ê³ -ìˆëŠ”ì§€-ë¶„ì„">êµ¬ê¸€(ë„¤ì´ë²„)ë´‡ ë¦¬í€˜ìŠ¤íŠ¸ê°€ ì‚¬ì´íŠ¸ì— ì˜ ë„ë‹¬í•˜ê³  ìˆëŠ”ì§€ ë¶„ì„</h2>

<p>ê²€ìƒ‰ì—”ì§„ì˜ ë¦¬í€˜ìŠ¤íŠ¸ê°€ Cloudflare ë³´ì•ˆ ì œí’ˆì— ë§‰íˆì§€ ì•Šê³  ì‚¬ì´íŠ¸ë¥¼ í¬ë¡¤ë§í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ, ë¨¼ì € <a href="https://developers.cloudflare.com/firewall/known-issues-and-faq/#how-does-firewall-rules-handle-traffic-from-known-bots">ì´ í˜ì´ì§€ì— ìˆëŠ” ì§€ì‹œì‚¬í•­ì„ ë”°ë¼ known botsì„ í—ˆìš©í•˜ëŠ” Firewall Ruleì„ ë§Œë“œì‹­ì‹œì˜¤.</a> ì´í›„ ì•„ë˜ GraphQL ì¿¼ë¦¬ë¥¼ í†µí•´ êµ¬ê¸€ë´‡ì´ ì‚¬ì´íŠ¸ì— ì˜ ë„ë‹¬í•˜ê³  ìˆëŠ”ì§€, ì–´ëŠ ìœ„ì¹˜ë¡œë¶€í„° ì‚¬ì´íŠ¸ì— íŠ¸ë˜í”½ì„ ë³´ë‚´ê³  ìˆëŠ”ì§€ë¥¼ ë¶„ì„í•  ê²ƒì…ë‹ˆë‹¤.</p>

<p><strong>Query:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">query</span> <span class="p">{</span>
  <span class="n">viewer</span><span class="p">{</span>
    <span class="n">zones</span><span class="p">(</span><span class="ss">filter: </span><span class="p">{</span> <span class="ss">zoneTag: </span><span class="vg">$zone_id</span><span class="p">})</span> <span class="p">{</span>
      <span class="n">firewallEventsAdaptiveGroups</span> <span class="p">(</span><span class="n">limit</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="ss">filter: </span><span class="vg">$filter</span><span class="p">,</span> <span class="ss">orderBy: </span><span class="p">[</span><span class="n">count_DESC</span><span class="p">])</span>
      <span class="p">{</span>
        <span class="n">count</span>
        <span class="n">dimensions</span><span class="p">{</span>
          <span class="n">action</span>
          <span class="n">source</span>
          <span class="n">edgeResponseStatus</span>
          <span class="n">originResponseStatus</span>
          <span class="n">edgeColoName</span>
          <span class="n">ruleId</span>
          <span class="n">clientAsn</span>
          <span class="n">userAgent</span>
        <span class="p">}</span>
      <span class="p">}</span> 
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><strong>Query Variables:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="p">{</span>
  <span class="s2">"zone_id"</span> <span class="p">:</span> <span class="s2">"&lt;$zone_id&gt;"</span><span class="p">,</span>
  <span class="s2">"filter"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"datetime_geq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_geq&gt;"</span><span class="p">,</span>
      <span class="s2">"datetime_leq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_leq&gt;"</span><span class="p">,</span>
      <span class="s2">"clientAsn"</span> <span class="p">:</span> <span class="s2">"15169"</span><span class="p">,</span>
      <span class="s2">"userAgent_like"</span> <span class="p">:</span> <span class="s2">"%Googlebot%"</span>
    <span class="p">}</span>
  <span class="p">}</span></code></pre></figure>

<p>ì´ ì¿¼ë¦¬ì˜ ê²°ê³¼ëŠ” ëŒ€ë¶€ë¶„ <code class="highlighter-rouge">"action": "allow"</code>ì„ í¬í•¨í•˜ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë˜í•œ ëŒ€ë¶€ë¶„ì˜ ê²°ê³¼ê°€ <code class="highlighter-rouge">"edgeResponseStatus": 200</code>ì„ í¬í•¨í•˜ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì°¸ê³ ë¡œ 404ëŠ” ê´œì°®ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ êµ¬ê¸€ë´‡ ë¦¬í€˜ìŠ¤íŠ¸ê°€ ë“œëë˜ê³  ìˆê±°ë‚˜ HTTP ìƒíƒœ ì½”ë“œê°€ 403, 5xx ë“±ìœ¼ë¡œ ë³´ì¸ë‹¤ë©´ ë³´ì•ˆ ë£°ê³¼ ì˜¤ë¦¬ì§„ ì„œë²„ë¥¼ í™•ì¸í•˜ì‹­ì‹œì˜¤.</p>

<p>ì¿¼ë¦¬ ê²°ê³¼ê°€ ì „í˜€ ëŒì•„ì˜¤ì§€ ì•ŠëŠ”ë‹¤ë©´ ê·¸ê²ƒì€ ê·¸ê²ƒëŒ€ë¡œ ì‚¬ì´íŠ¸ì— êµ¬ê¸€ë´‡ í¬ë¡¤ë§ ë¦¬í€˜ìŠ¤íŠ¸ê°€ ì—†ë‹¤ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ ë‹¤ì†Œ ìˆ˜ìƒí•©ë‹ˆë‹¤. (a) êµ¬ê¸€ë´‡ì„ í—ˆìš©í•˜ëŠ” Firewall Ruleì´ ì œëŒ€ë¡œ ë§Œë“¤ì–´ì ¸ ìˆëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤. ê·¸ë¦¬ê³  (b) êµ¬ê¸€ ê²€ìƒ‰ ì½˜ì†”ì—ì„œ ì›¹ì‚¬ì´íŠ¸ê°€ ì œëŒ€ë¡œ ë“±ë¡ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤.</p>

<p>ë§: ë„¤ì´ë²„ ê²€ìƒ‰ì—”ì§„ì— ëŒ€í•œ ë¶„ì„ì¿¼ë¦¬ê°€ í•„ìš”í•˜ì‹œë©´ Query Variablesë¥¼ ì•„ë˜ ë‚´ìš©ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”.</p>

<p><strong>Query Variables:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="p">{</span>
  <span class="s2">"zone_id"</span> <span class="p">:</span> <span class="s2">"&lt;$zone_id&gt;"</span><span class="p">,</span>
  <span class="s2">"filter"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"datetime_geq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_geq&gt;"</span><span class="p">,</span>
      <span class="s2">"datetime_leq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_leq&gt;"</span><span class="p">,</span>
      <span class="s2">"clientAsn"</span> <span class="p">:</span> <span class="s2">"23576"</span><span class="p">,</span>
      <span class="s2">"userAgent_like"</span> <span class="p">:</span> <span class="s2">"%Yeti%"</span>
    <span class="p">}</span>
  <span class="p">}</span></code></pre></figure>

<h1 id="cache-analytics-beta">Cache Analytics (BETA)</h1>

<p>2020ë…„ 5ì›” 29ì¼ ê¸°ì¤€:</p>
<ul>
  <li>ìµœëŒ€ ì¿¼ë¦¬ ê°€ëŠ¥ ê¸°ê°„: ìµœê·¼ 31ì¼ (2,678,400ì´ˆ)</li>
  <li>Adaptive Bitrate ìƒ˜í”Œë§ì„ ì´ìš©í•©ë‹ˆë‹¤. (ìµœëŒ€ 1%)</li>
</ul>

<h2 id="íŠ¹ì •-ë¦¬í€˜ìŠ¤íŠ¸ì˜-ë””í…Œì¼í•œ-ë¶„ì„-1">íŠ¹ì • ë¦¬í€˜ìŠ¤íŠ¸ì˜ ë””í…Œì¼í•œ ë¶„ì„</h2>

<p>ì•ˆíƒ€ê¹ê²Œë„, 2020ë…„ 5ì›” 29ì¼ ê¸°ì¤€ Cache AnalyticsëŠ” ìµœëŒ€ 1% ì ì‘í˜• ìƒ˜í”Œë§ ë°ì´í„°ë¥¼ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ì´ GraphQL ë°ì´í„°ì…‹ì„ ì˜ ì´ìš©í•˜ì‹œëŠ” ë°©ë²•ì€ ê²½í–¥ì„± ë¶„ì„ì„ í•˜ì‹œëŠ” ê²ƒì…ë‹ˆë‹¤. ë‹¨ì¼ ë¦¬í€˜ìŠ¤íŠ¸ì˜ ë””í…Œì¼í•œ ë¶„ì„ì„ í•˜ì‹œë ¤ë©´ <a href="/cloudflare/analytics/2020/05/28/frequently-asked-api-calls-ko.html#íŠ¹ì •-rayidì—-ëŒ€í•œ-ë¡œê·¸-í’€ë§í•˜ê¸°">Logpullì„ ì´ìš©í•´ ìƒì„¸ í•„ë“œë¥¼ ë¶„ì„í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</a></p>

<p>ì´ ì¿¼ë¦¬ëŠ” Cache Analytics ë…¸ë“œì—ì„œ ì œê³µí•˜ëŠ” í•„ë“œê°€ ì–´ë–¤ í˜•íƒœë¡œ ë¦¬í„´ë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ìš©ë„ë¡œ ì´ìš©í•˜ì‹­ì‹œì˜¤. <code class="highlighter-rouge">CacheStatus</code>ê°€ <code class="highlighter-rouge">"hit"</code> ì´ ì•„ë‹Œ ëœë¤í•œ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ í•˜ë‚˜ ê³¨ë¼ í•´ë‹¹ ë¦¬í€˜ìŠ¤íŠ¸ì— í•´ë‹¹í•˜ëŠ” ë””í…Œì¼ì„ ë¦¬í„´í•˜ëŠ” ì¿¼ë¦¬ì…ë‹ˆë‹¤.</p>

<p><strong>Query:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">query</span> <span class="p">{</span>
  <span class="n">viewer</span><span class="p">{</span>
    <span class="n">zones</span><span class="p">(</span><span class="ss">filter: </span><span class="p">{</span> <span class="ss">zoneTag: </span><span class="vg">$zone_id</span><span class="p">})</span> <span class="p">{</span>
      <span class="n">httpRequestsAdaptiveGroups</span> <span class="p">(</span><span class="n">limit</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="ss">filter: </span><span class="vg">$filter</span><span class="p">,</span> <span class="ss">orderBy: </span><span class="p">[</span><span class="n">count_DESC</span><span class="p">])</span>
      <span class="p">{</span>
        <span class="n">dimensions</span><span class="p">{</span>
          <span class="n">cacheStatus</span>
          <span class="n">clientAsn</span>
          <span class="n">clientCountryName</span>
          <span class="n">clientDeviceType</span>
          <span class="n">clientIP</span>
          <span class="n">clientRequestHTTPHost</span>
          <span class="n">clientRequestHTTPMethodName</span>
          <span class="n">clientRequestPath</span>
          <span class="n">clientRequestQuery</span>
          <span class="n">clientRequestReferer</span>
          <span class="n">coloCode</span>
          <span class="n">datetime</span>
          <span class="n">edgeResponseContentTypeName</span>
          <span class="n">edgeResponseStatus</span>
          <span class="n">edgeWorkerSubrequestParentRayId</span>
          <span class="n">requestSource</span>
          <span class="n">sampleInterval</span>
          <span class="n">upperTierColoName</span>
          <span class="n">userAgent</span>
          <span class="n">xRequestedWith</span>
        <span class="p">}</span>
      <span class="p">}</span> 
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><strong>Query Variables:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="p">{</span>
    <span class="s2">"zone_id"</span> <span class="p">:</span> <span class="s2">"&lt;$zone_id&gt;"</span><span class="p">,</span>
    <span class="s2">"filter"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"datetime_geq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_geq&gt;"</span><span class="p">,</span>
      <span class="s2">"datetime_leq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_leq&gt;"</span><span class="p">,</span>
      <span class="s2">"cacheStatus_neq"</span> <span class="p">:</span> <span class="s2">"hit"</span>
    <span class="p">}</span>
  <span class="p">}</span></code></pre></figure>

<h2 id="ìºì‹œë˜ì§€-ì•Šì€-top-20ê°œ-ë¦¬í€˜ìŠ¤íŠ¸-ë¶„ì„">ìºì‹œë˜ì§€ ì•Šì€ Top 20ê°œ ë¦¬í€˜ìŠ¤íŠ¸ ë¶„ì„</h2>

<p>ìºì‹œ ì ì¤‘ë¥ ì„ 99%ê¹Œì§€ ë†’ì´ê³  ì‹¶ì€ë° í˜„ì¬ ì–´ë–¤ ë¦¬í€˜ìŠ¤íŠ¸ê°€ ì™œ ìºì‹œë˜ì§€ ì•ŠëŠ”ì§€ í™•ì‹ ì´ ì„œì§€ ì•Šìœ¼ì‹œë‚˜ìš”? ì´ ì¿¼ë¦¬ë¥¼ ì´ìš©í•˜ë©´ ë¶„ì„ ëŒ€ìƒ ë„ë©”ì¸ì— ëŒ€í•´ ìºì‹œë˜ì§€ ì•Šì€ Top 20ê°œ ì½˜í…ì¸ ê°€ ë¦¬í€˜ìŠ¤íŠ¸ ê°¯ìˆ˜ì™€ í•¨ê»˜ í‘œì‹œë©ë‹ˆë‹¤. 2020ë…„ 5ì›” 29ì¼ ê¸°ì¤€ API ì¿¼ë¦¬ë¥¼ ë³´ë‚´ì‹œë©´ ë¦¬í€˜ìŠ¤íŠ¸ì˜ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì„ í¬í•¨í•˜ì—¬ ëŒ€ì‹œë³´ë“œë³´ë‹¤ ì •í™•í•œ ì •ë³´ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>

<p><strong>Query:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">query</span> <span class="p">{</span>
  <span class="n">viewer</span><span class="p">{</span>
    <span class="n">zones</span><span class="p">(</span><span class="ss">filter: </span><span class="p">{</span> <span class="ss">zoneTag: </span><span class="vg">$zone_id</span><span class="p">})</span> <span class="p">{</span>
      <span class="n">httpRequestsAdaptiveGroups</span> <span class="p">(</span><span class="n">limit</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="ss">filter: </span><span class="vg">$filter</span><span class="p">,</span> <span class="ss">orderBy: </span><span class="p">[</span><span class="n">count_DESC</span><span class="p">])</span>
      <span class="p">{</span>
        <span class="n">count</span>
        <span class="n">dimensions</span><span class="p">{</span>
          <span class="n">cacheStatus</span>
          <span class="n">clientRequestHTTPHost</span>
          <span class="n">clientRequestPath</span>
          <span class="n">clientRequestQuery</span>
          <span class="n">edgeResponseContentTypeName</span>
        <span class="p">}</span>
      <span class="p">}</span> 
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><strong>Query Variables:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">   <span class="p">{</span>
    <span class="s2">"zone_id"</span> <span class="p">:</span> <span class="s2">"&lt;$zone_id&gt;"</span><span class="p">,</span>
    <span class="s2">"filter"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"datetime_geq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_geq&gt;"</span><span class="p">,</span>
      <span class="s2">"datetime_leq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_leq&gt;"</span><span class="p">,</span>
      <span class="s2">"cacheStatus_in"</span> <span class="p">:</span> <span class="p">[</span><span class="s2">"dynamic"</span><span class="p">,</span><span class="s2">"none"</span><span class="p">,</span><span class="s2">"miss"</span><span class="p">,</span><span class="s2">"expired"</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span></code></pre></figure>

<h2 id="íŠ¹ì •-ì‹œê°„ëŒ€ì—-ë“¤ì–´ì˜¨-ë¦¬í€˜ìŠ¤íŠ¸ì˜-top-20-clientip-í˜¹ì€-useragent-ë¶„ì„">íŠ¹ì • ì‹œê°„ëŒ€ì— ë“¤ì–´ì˜¨ ë¦¬í€˜ìŠ¤íŠ¸ì˜ Top 20 clientIP í˜¹ì€ userAgent ë¶„ì„</h2>

<p>íŠ¹ì • ì‹œê°„ëŒ€ì— ë“¤ì–´ì˜¨ ë¦¬í€˜ìŠ¤íŠ¸ì˜ Top 20 clientIP ì •ë³´ë‚˜, userAgent ì •ë³´ ë“±ì„ ë³´ì‹œê³  ì‹¶ë‹¤ë©´ Cache Analyticsë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª‡ ê°€ì§€ ì£¼ì˜ì‚¬í•­ì´ ì ìš©ë©ë‹ˆë‹¤.</p>

<ul>
  <li>2020-06-02 ê¸°ì¤€, ìµœëŒ€ ì¿¼ë¦¬ ê°€ëŠ¥ ê¸°ê°„ì€ 72ì‹œê°„(259,200ì´ˆ)ì…ë‹ˆë‹¤. ë”°ë¼ì„œ â€œ5ì›” 1ì¼ë¶€í„° 31ì¼ê¹Œì§€ ë¡œê·¸ê°€ í•„ìš”í•´ìš”â€ ë“±ì˜ ìš”êµ¬ì‚¬í•­ì„ í•´ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</li>
  <li>2020-06-02 ê¸°ì¤€, ìµœëŒ€ 1%ì˜ ìƒ˜í”Œ ë°ì´í„°ë¥¼ í™œìš©í•©ë‹ˆë‹¤. ê°ì•ˆí•´ì„œ ì¿¼ë¦¬í•˜ì…”ì•¼ í•©ë‹ˆë‹¤.</li>
</ul>

<p>í•œ ë‹¬ì¹˜ ì •ë³´ê°€ í•„ìš”í•˜ì‹œê±°ë‚˜, 100% ë°ì´í„°ë¥¼ í™œìš©í•˜ì…”ì•¼ í•œë‹¤ë©´, <a href="/cloudflare/analytics/2020/05/28/frequently-asked-api-calls-ko.html#íŠ¹ì •-ì‹œê°„ëŒ€ì—-ë“¤ì–´ì˜¨-ë¦¬í€˜ìŠ¤íŠ¸ì˜-top-20-clientip-í˜¹ì€-useragent-ë¶„ì„">ì—”í„°í”„ë¼ì´ì¦ˆ ë¡œê·¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì…”ì•¼ í•©ë‹ˆë‹¤. ì´ ê¸€ì„ ì°¸ê³ í•˜ì„¸ìš”.</a></p>

<p><strong>Query:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">query</span> <span class="p">{</span>
  <span class="n">viewer</span><span class="p">{</span>
    <span class="n">zones</span><span class="p">(</span><span class="ss">filter: </span><span class="p">{</span> <span class="ss">zoneTag: </span><span class="vg">$zone_id</span><span class="p">})</span> <span class="p">{</span>
      <span class="n">httpRequestsAdaptiveGroups</span> <span class="p">(</span><span class="n">limit</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="ss">filter: </span><span class="vg">$filter</span><span class="p">,</span> <span class="ss">orderBy: </span><span class="p">[</span><span class="n">count_DESC</span><span class="p">])</span>
      <span class="p">{</span>
        <span class="n">count</span>
        <span class="n">dimensions</span><span class="p">{</span>
         <span class="n">clientIP</span>
        <span class="p">}</span>
      <span class="p">}</span> 
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><strong>Query Variables:</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">   <span class="p">{</span>
    <span class="s2">"zone_id"</span> <span class="p">:</span> <span class="s2">"&lt;$zone_id&gt;"</span><span class="p">,</span>
    <span class="s2">"filter"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"datetime_geq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_geq&gt;"</span><span class="p">,</span>
      <span class="s2">"datetime_leq"</span> <span class="p">:</span> <span class="s2">"&lt;$datetime_leq&gt;"</span>
    <span class="p">}</span>
  <span class="p">}</span></code></pre></figure>

<p><code class="highlighter-rouge">clientIP</code>ë¥¼ <code class="highlighter-rouge">userAgent</code>ë¡œ ë°”ê¾¸ì‹œë©´ userAgent ì •ë³´ë¥¼ ì§ˆì˜í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
:ET